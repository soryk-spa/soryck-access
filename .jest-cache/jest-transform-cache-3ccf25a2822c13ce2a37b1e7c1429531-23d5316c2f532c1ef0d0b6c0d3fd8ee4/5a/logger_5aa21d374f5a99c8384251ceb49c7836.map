{"file":"C:\\Users\\Bilur\\Documents\\Development\\Next\\soryck-access\\src\\lib\\logger.ts","mappings":"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","names":[],"sources":["C:\\Users\\Bilur\\Documents\\Development\\Next\\soryck-access\\src\\lib\\logger.ts"],"sourcesContent":["\r\n\r\nexport type LogLevel = 'debug' | 'info' | 'warn' | 'error';\r\n\r\nexport interface LogContext {\r\n  [key: string]: unknown;\r\n  userId?: string;\r\n  eventId?: string;\r\n  requestId?: string;\r\n  service?: string;\r\n}\r\n\r\nexport interface LogEntry {\r\n  timestamp: string;\r\n  level: LogLevel;\r\n  message: string;\r\n  context?: LogContext;\r\n  error?: Error;\r\n}\r\n\r\nclass Logger {\r\n  private isDevelopment = process.env.NODE_ENV === 'development';\r\n  private minLevel: LogLevel = this.isDevelopment ? 'debug' : 'info';\r\n\r\n  private levelToNumber(level: LogLevel): number {\r\n    const levels = { debug: 0, info: 1, warn: 2, error: 3 };\r\n    return levels[level];\r\n  }\r\n\r\n  private shouldLog(level: LogLevel): boolean {\r\n    return this.levelToNumber(level) >= this.levelToNumber(this.minLevel);\r\n  }\r\n\r\n  private formatMessage(level: LogLevel, message: string, context?: LogContext, error?: Error): void {\r\n    if (!this.shouldLog(level)) return;\r\n\r\n    const timestamp = new Date().toISOString();\r\n    const logEntry: LogEntry = {\r\n      timestamp,\r\n      level,\r\n      message,\r\n      context,\r\n      error\r\n    };\r\n\r\n    if (this.isDevelopment) {\r\n      \n      const emoji = { debug: '🔍', info: 'ℹ️', warn: '⚠️', error: '❌' }[level];\r\n      const color = { debug: '\\x1b[36m', info: '\\x1b[32m', warn: '\\x1b[33m', error: '\\x1b[31m' }[level];\r\n      const reset = '\\x1b[0m';\r\n      \r\n      console.log(`${color}${emoji} [${level.toUpperCase()}]${reset} ${message}`);\r\n      if (context && Object.keys(context).length > 0) {\r\n        console.log(`${color}   Context:${reset}`, context);\r\n      }\r\n      if (error) {\r\n        console.error(`${color}   Error:${reset}`, error);\r\n      }\r\n    } else {\r\n      \n      console.log(JSON.stringify(logEntry));\r\n    }\r\n  }\r\n\r\n  debug(message: string, context?: LogContext): void {\r\n    this.formatMessage('debug', message, context);\r\n  }\r\n\r\n  info(message: string, context?: LogContext): void {\r\n    this.formatMessage('info', message, context);\r\n  }\r\n\r\n  warn(message: string, context?: LogContext): void {\r\n    this.formatMessage('warn', message, context);\r\n  }\r\n\r\n  error(message: string, error?: Error, context?: LogContext): void {\r\n    this.formatMessage('error', message, context, error);\r\n  }\r\n\r\n  \n  email = {\r\n    sent: (type: string, recipient: string, subject: string, context?: LogContext) => {\r\n      this.info(`Email sent: ${type}`, {\r\n        type,\r\n        recipient,\r\n        subject,\r\n        service: 'email',\r\n        ...context\r\n      });\r\n    },\r\n\r\n    failed: (type: string, recipient: string, error: Error, context?: LogContext) => {\r\n      this.error(`Email failed: ${type}`, error, {\r\n        type,\r\n        recipient,\r\n        service: 'email',\r\n        ...context\r\n      });\r\n    },\r\n\r\n    processing: (type: string, recipient: string, context?: LogContext) => {\r\n      this.info(`Email processing: ${type}`, {\r\n        type,\r\n        recipient,\r\n        service: 'email',\r\n        ...context\r\n      });\r\n    }\r\n  };\r\n\r\n  \n  api = {\r\n    request: (method: string, path: string, context?: LogContext) => {\r\n      this.debug(`API Request: ${method} ${path}`, {\r\n        method,\r\n        path,\r\n        service: 'api',\r\n        ...context\r\n      });\r\n    },\r\n\r\n    response: (method: string, path: string, status: number, duration?: number, context?: LogContext) => {\r\n      const level = status >= 400 ? 'warn' : 'info';\r\n      this.formatMessage(level, `API Response: ${method} ${path} - ${status}`, {\r\n        method,\r\n        path,\r\n        status,\r\n        duration,\r\n        service: 'api',\r\n        ...context\r\n      });\r\n    },\r\n\r\n    error: (method: string, path: string, error: Error, context?: LogContext) => {\r\n      this.error(`API Error: ${method} ${path}`, error, {\r\n        method,\r\n        path,\r\n        service: 'api',\r\n        ...context\r\n      });\r\n    }\r\n  };\r\n\r\n  \n  event = {\r\n    created: (eventId: string, title: string, organizerId: string, context?: LogContext) => {\r\n      this.info(`Event created: ${title}`, {\r\n        eventId,\r\n        title,\r\n        organizerId,\r\n        service: 'events',\r\n        ...context\r\n      });\r\n    },\r\n\r\n    updated: (eventId: string, title: string, changes: string[], context?: LogContext) => {\r\n      this.info(`Event updated: ${title}`, {\r\n        eventId,\r\n        title,\r\n        changes,\r\n        service: 'events',\r\n        ...context\r\n      });\r\n    },\r\n\r\n    deleted: (eventId: string, title: string, context?: LogContext) => {\r\n      this.warn(`Event deleted: ${title}`, {\r\n        eventId,\r\n        title,\r\n        service: 'events',\r\n        ...context\r\n      });\r\n    }\r\n  };\r\n\r\n  \n  payment = {\r\n    initiated: (orderId: string, amount: number, currency: string, context?: LogContext) => {\r\n      this.info(`Payment initiated`, {\r\n        orderId,\r\n        amount,\r\n        currency,\r\n        service: 'payment',\r\n        ...context\r\n      });\r\n    },\r\n\r\n    completed: (orderId: string, amount: number, currency: string, context?: LogContext) => {\r\n      this.info(`Payment completed`, {\r\n        orderId,\r\n        amount,\r\n        currency,\r\n        service: 'payment',\r\n        ...context\r\n      });\r\n    },\r\n\r\n    failed: (orderId: string, error: Error, context?: LogContext) => {\r\n      this.error(`Payment failed`, error, {\r\n        orderId,\r\n        service: 'payment',\r\n        ...context\r\n      });\r\n    }\r\n  };\r\n}\r\n\r\nexport const logger = new Logger();\r\n\r\n\nexport function createLogger(defaultContext: LogContext) {\r\n  return {\r\n    debug: (message: string, context?: LogContext) => \r\n      logger.debug(message, { ...defaultContext, ...context }),\r\n    info: (message: string, context?: LogContext) => \r\n      logger.info(message, { ...defaultContext, ...context }),\r\n    warn: (message: string, context?: LogContext) => \r\n      logger.warn(message, { ...defaultContext, ...context }),\r\n    error: (message: string, error?: Error, context?: LogContext) => \r\n      logger.error(message, error, { ...defaultContext, ...context }),\r\n  };\r\n}\r\n"],"version":3}