0235f71063ecececd4ea8e693f373c57
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const courtesy_1 = require("./courtesy");
describe('courtesy pricing', () => {
    it('is free before or at limit time', () => {
        expect((0, courtesy_1.getCourtesyPrice)('23:30', { enabled: true, validUntil: '23:59', priceAfter: 6000 })).toBe('free');
        expect((0, courtesy_1.getCourtesyPrice)('00:00', { enabled: true, validUntil: '00:00', priceAfter: 6000 })).toBe('free');
    });
    it('charges fixed price after limit', () => {
        expect((0, courtesy_1.getCourtesyPrice)('00:01', { enabled: true, validUntil: '00:00', priceAfter: 6000 })).toBe(6000);
    });
    it('returns null when disabled', () => {
        expect((0, courtesy_1.getCourtesyPrice)('12:00', { enabled: false, validUntil: '00:00', priceAfter: 6000 })).toBeNull();
    });
    it('handles invalid time gracefully', () => {
        expect((0, courtesy_1.getCourtesyPrice)('invalid', { enabled: true, validUntil: '00:00', priceAfter: 6000 })).toBeNull();
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxCaWx1clxcRG9jdW1lbnRzXFxEZXZlbG9wbWVudFxcTmV4dFxcc29yeWNrLWFjY2Vzc1xcc3JjXFxsaWJcXGNvdXJ0ZXN5LnRlc3QudHMiLCJtYXBwaW5ncyI6Ijs7QUFBQSx5Q0FBOEM7QUFFOUMsUUFBUSxDQUFDLGtCQUFrQixFQUFFLEdBQUcsRUFBRTtJQUNoQyxFQUFFLENBQUMsaUNBQWlDLEVBQUUsR0FBRyxFQUFFO1FBQ3pDLE1BQU0sQ0FBQyxJQUFBLDJCQUFnQixFQUFDLE9BQU8sRUFBRSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN6RyxNQUFNLENBQUMsSUFBQSwyQkFBZ0IsRUFBQyxPQUFPLEVBQUUsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDM0csQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsaUNBQWlDLEVBQUUsR0FBRyxFQUFFO1FBQ3pDLE1BQU0sQ0FBQyxJQUFBLDJCQUFnQixFQUFDLE9BQU8sRUFBRSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN6RyxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyw0QkFBNEIsRUFBRSxHQUFHLEVBQUU7UUFDcEMsTUFBTSxDQUFDLElBQUEsMkJBQWdCLEVBQUMsT0FBTyxFQUFFLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDMUcsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsaUNBQWlDLEVBQUUsR0FBRyxFQUFFO1FBQ3pDLE1BQU0sQ0FBQyxJQUFBLDJCQUFnQixFQUFDLFNBQVMsRUFBRSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQzNHLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxCaWx1clxcRG9jdW1lbnRzXFxEZXZlbG9wbWVudFxcTmV4dFxcc29yeWNrLWFjY2Vzc1xcc3JjXFxsaWJcXGNvdXJ0ZXN5LnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0Q291cnRlc3lQcmljZSB9IGZyb20gJy4vY291cnRlc3knO1xyXG5cclxuZGVzY3JpYmUoJ2NvdXJ0ZXN5IHByaWNpbmcnLCAoKSA9PiB7XHJcbiAgaXQoJ2lzIGZyZWUgYmVmb3JlIG9yIGF0IGxpbWl0IHRpbWUnLCAoKSA9PiB7XHJcbiAgICBleHBlY3QoZ2V0Q291cnRlc3lQcmljZSgnMjM6MzAnLCB7IGVuYWJsZWQ6IHRydWUsIHZhbGlkVW50aWw6ICcyMzo1OScsIHByaWNlQWZ0ZXI6IDYwMDAgfSkpLnRvQmUoJ2ZyZWUnKTtcclxuICAgIGV4cGVjdChnZXRDb3VydGVzeVByaWNlKCcwMDowMCcsIHsgZW5hYmxlZDogdHJ1ZSwgdmFsaWRVbnRpbDogJzAwOjAwJywgcHJpY2VBZnRlcjogNjAwMCB9KSkudG9CZSgnZnJlZScpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnY2hhcmdlcyBmaXhlZCBwcmljZSBhZnRlciBsaW1pdCcsICgpID0+IHtcclxuICAgIGV4cGVjdChnZXRDb3VydGVzeVByaWNlKCcwMDowMScsIHsgZW5hYmxlZDogdHJ1ZSwgdmFsaWRVbnRpbDogJzAwOjAwJywgcHJpY2VBZnRlcjogNjAwMCB9KSkudG9CZSg2MDAwKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3JldHVybnMgbnVsbCB3aGVuIGRpc2FibGVkJywgKCkgPT4ge1xyXG4gICAgZXhwZWN0KGdldENvdXJ0ZXN5UHJpY2UoJzEyOjAwJywgeyBlbmFibGVkOiBmYWxzZSwgdmFsaWRVbnRpbDogJzAwOjAwJywgcHJpY2VBZnRlcjogNjAwMCB9KSkudG9CZU51bGwoKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ2hhbmRsZXMgaW52YWxpZCB0aW1lIGdyYWNlZnVsbHknLCAoKSA9PiB7XHJcbiAgICBleHBlY3QoZ2V0Q291cnRlc3lQcmljZSgnaW52YWxpZCcsIHsgZW5hYmxlZDogdHJ1ZSwgdmFsaWRVbnRpbDogJzAwOjAwJywgcHJpY2VBZnRlcjogNjAwMCB9KSkudG9CZU51bGwoKTtcclxuICB9KTtcclxufSk7XHJcbiJdLCJ2ZXJzaW9uIjozfQ==